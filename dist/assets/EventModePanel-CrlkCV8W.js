import{r as d,j as e}from"./vendor-DU2oVBwu.js";const D=[{id:"t1",type:"PLAY_MATCH",title:"Clean Sheet Command",description:"Win one match without conceding.",progress:0,target:1,rewards:{coins:250,forgeMaterials:10},isDailyFocus:!0,tip:"Drop your line late; do not dive in near the box."},{id:"t2",type:"GOAL",title:"Wing Supply Line",description:"Score 2 goals created by wingers.",progress:0,target:2,rewards:{coins:200,eventTokens:10},isDailyFocus:!0,tip:"Switch flanks once before crossing or cutting inside."},{id:"t3",type:"PLAY_MATCH",title:"Keep The Ball",description:"Hold safe possession for one full in-game minute.",progress:0,target:1,rewards:{coins:150},isDailyFocus:!1},{id:"t4",type:"SKILL",title:"No Sprint Discipline",description:"Finish one half using minimal sprinting.",progress:0,target:1,rewards:{coins:150,forgeMaterials:5},isDailyFocus:!1,tip:"Use short passes and jockey instead of full sprint."},{id:"t5",type:"SKILL",title:"Low Stamina Grit",description:"Win while at least 3 starters end below 40 stamina.",progress:0,target:1,rewards:{coins:200,eventTokens:10},isDailyFocus:!1},{id:"t6",type:"PLAY_MATCH",title:"Comeback Chapter",description:"Turn a losing position into a win.",progress:0,target:1,rewards:{coins:300,eventTokens:15},isDailyFocus:!1},{id:"t7",type:"TACKLE",title:"Press Trap",description:"Win the ball back 5 times in the final third.",progress:0,target:5,rewards:{coins:180,forgeMaterials:10},isDailyFocus:!1},{id:"t8",type:"ASSIST",title:"Perfect Switch",description:"Score once after switching wings before the final pass.",progress:0,target:1,rewards:{coins:200},isDailyFocus:!1},{id:"t9",type:"GOAL",title:"Long Shot Moment",description:"Score one goal from outside the box.",progress:0,target:1,rewards:{coins:220,forgeMaterials:10},isDailyFocus:!1},{id:"t10",type:"TACKLE",title:"Keeperâ€™s Night",description:"Win 1â€“0 after your keeper makes key saves.",progress:0,target:1,rewards:{coins:260,eventTokens:15},isDailyFocus:!1},{id:"t11",type:"FORMATION",title:"Final Chapter",description:"Win one deciding match using your current event identity.",progress:0,target:1,rewards:{coins:400,forgeMaterials:20,eventTokens:25},isDailyFocus:!1}],n=s=>s.completed||s.progress>=s.target,_=({type:s,active:l})=>{let r="âš½",i="bg-gray-700";return["GOAL","ASSIST","LONG_SHOT"].includes(s)?(i="bg-emerald-600",s==="GOAL"&&(r="ðŸ¥…"),s==="ASSIST"&&(r="ðŸ‘Ÿ"),s==="LONG_SHOT"&&(r="ðŸš€")):["TACKLE","FORMATION"].includes(s)?(i="bg-blue-600",s==="TACKLE"&&(r="ðŸ›¡ï¸"),s==="FORMATION"&&(r="ðŸ“‹")):(i="bg-yellow-600",s==="SKILL"&&(r="âœ¨"),s==="PLAY_MATCH"&&(r="â±ï¸")),e.jsxs("div",{className:`w-12 h-12 rounded-full ${i} flex items-center justify-center text-2xl shadow-lg relative border-2 border-white/10 ${l?"animate-pulse ring-2 ring-yellow-400/50 shadow-yellow-500/20":""}`,children:[r,l&&e.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-white/50 animate-ping opacity-20"})]})},F=({task:s,index:l})=>{const r=n(s),i=Math.min(100,Math.round(s.progress/s.target*100));let o="text-yellow-300";["GOAL","ASSIST","LONG_SHOT"].includes(s.type)?o="text-emerald-300":["TACKLE","FORMATION"].includes(s.type)&&(o="text-blue-300");const p={animationDelay:`${l*60}ms`,animationFillMode:"both"};return e.jsxs("div",{className:`
                    snap-start
                    group relative flex items-center gap-4 p-4 rounded-xl border transition-all duration-300
                    ${r?"bg-emerald-900/20 border-emerald-500/50":`bg-gray-800/80 border-gray-700 hover:bg-gray-800 hover:scale-[1.01] active:scale-[0.99] hover:shadow-lg ${s.isDailyFocus?"border-yellow-500/40 shadow-yellow-500/10":"hover:border-yellow-500/50 hover:shadow-yellow-500/5"}`}
                    animate-fade-in-up
                    min-h-[100px]
                `,style:p,children:[s.isDailyFocus&&!r&&e.jsx("div",{className:"absolute -top-1.5 -right-1.5 z-10 animate-bounce-short",children:e.jsxs("span",{className:"relative flex h-4 w-4",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-yellow-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-yellow-500 border-2 border-gray-900 flex items-center justify-center",children:e.jsx("span",{className:"text-[8px] text-black font-bold",children:"â˜…"})})]})}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(_,{type:s.type,active:!!s.isDailyFocus&&!r})}),e.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("h3",{className:`text-sm font-bold truncate tracking-wide ${o}`,children:s.title}),s.tip&&!r&&e.jsx("span",{className:"text-[10px] text-gray-500 cursor-help bg-gray-900/50 px-1.5 py-0.5 rounded border border-gray-700 hover:text-white transition-colors",title:s.tip,children:"?"})]}),e.jsx("p",{className:"text-[11px] text-gray-400 truncate mb-3",children:s.description}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative flex-1 h-2.5 bg-gray-900 rounded-full overflow-hidden border border-white/5 shadow-inner",children:[e.jsxs("div",{className:`absolute top-0 left-0 h-full rounded-full transition-all duration-1000 ease-out ${r?"bg-emerald-500":"bg-gradient-to-r from-gray-600 via-yellow-600 to-yellow-400"}`,style:{width:`${i}%`},children:[r&&e.jsx("div",{className:"absolute inset-0 bg-white/30 animate-pulse"}),!r&&s.isDailyFocus&&e.jsx("div",{className:"absolute inset-0 bg-white/10 animate-pulse"})]}),e.jsxs("div",{className:"absolute inset-0 flex justify-evenly opacity-30",children:[e.jsx("div",{className:"w-px h-full bg-black"}),e.jsx("div",{className:"w-px h-full bg-black"})]})]}),e.jsxs("span",{className:"text-[10px] font-mono text-gray-400 w-12 text-right",children:[s.progress,"/",s.target]})]})]}),e.jsxs("div",{className:"flex flex-row items-center justify-end gap-2 pl-3 border-l border-white/5 ml-2 min-w-[100px]",children:[s.rewards.coins&&e.jsxs("div",{className:"flex flex-col items-center group/reward",children:[e.jsx("span",{className:"text-base group-hover/reward:-translate-y-1 transition-transform duration-300",children:"ðŸ’°"}),e.jsx("span",{className:"text-[9px] text-yellow-300 font-bold",children:s.rewards.coins})]}),s.rewards.forgeMaterials&&e.jsxs("div",{className:"flex flex-col items-center group/reward",children:[e.jsx("span",{className:"text-base group-hover/reward:-translate-y-1 transition-transform duration-300",children:"âš’ï¸"}),e.jsx("span",{className:"text-[9px] text-purple-300 font-bold",children:s.rewards.forgeMaterials})]}),s.rewards.eventTokens&&e.jsxs("div",{className:"flex flex-col items-center group/reward",children:[e.jsx("span",{className:"text-base group-hover/reward:-translate-y-1 transition-transform duration-300",children:"ðŸŽ«"}),e.jsx("span",{className:"text-[9px] text-emerald-300 font-bold",children:s.rewards.eventTokens})]})]}),r&&e.jsx("div",{className:"absolute inset-0 bg-emerald-950/40 backdrop-blur-[1px] rounded-xl flex items-center justify-center z-20 animate-fade-in border border-emerald-500/30",children:e.jsxs("div",{className:"bg-emerald-500 text-white rounded-full p-2 shadow-lg shadow-emerald-500/20 transform scale-100 animate-bounce-short relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-white/50 animate-ping rounded-full opacity-50"}),e.jsx("svg",{className:"w-6 h-6 relative z-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})]})})]})},E=({totalCoins:s,totalMaterials:l,totalTokens:r,premiumProgress:i})=>{const o=d.useRef(s);return d.useEffect(()=>{o.current=s},[s]),e.jsxs("div",{className:"bg-gradient-to-r from-gray-950 via-gray-900 to-gray-950 p-4 border-t border-yellow-500/20 flex items-center justify-between shadow-[0_-5px_20px_rgba(0,0,0,0.5)] z-20 relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-yellow-500/30 to-transparent"}),e.jsx("div",{className:"flex items-center gap-6",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[9px] uppercase text-gray-500 font-bold tracking-wider mb-1",children:"Session Earnings"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-yellow-950/30 px-3 py-1.5 rounded-lg border border-yellow-500/20 hover:bg-yellow-900/20 transition-colors group animate-bounce-short",children:[e.jsx("span",{className:"text-yellow-400 text-sm group-hover:scale-110 transition-transform",children:"ðŸ’°"}),e.jsx("span",{className:"text-yellow-100 font-mono text-sm font-bold",children:s})]},s),e.jsxs("div",{className:"flex items-center gap-2 bg-purple-950/30 px-3 py-1.5 rounded-lg border border-purple-500/20 hover:bg-purple-900/20 transition-colors group animate-bounce-short",children:[e.jsx("span",{className:"text-purple-400 text-sm group-hover:scale-110 transition-transform",children:"âš’ï¸"}),e.jsx("span",{className:"text-purple-100 font-mono text-sm font-bold",children:l})]},l),e.jsxs("div",{className:"flex items-center gap-2 bg-emerald-950/30 px-3 py-1.5 rounded-lg border border-emerald-500/20 hover:bg-emerald-900/20 transition-colors group animate-bounce-short",children:[e.jsx("span",{className:"text-emerald-400 text-sm group-hover:scale-110 transition-transform",children:"ðŸŽ«"}),e.jsx("span",{className:"text-emerald-100 font-mono text-sm font-bold",children:r})]},r)]})]})}),e.jsxs("div",{className:"flex-1 ml-12 max-w-xs",children:[e.jsxs("div",{className:"flex justify-between items-end mb-1.5",children:[e.jsxs("span",{className:"text-[10px] text-yellow-500 font-bold uppercase tracking-wider flex items-center gap-1.5",children:[e.jsx("span",{className:"animate-pulse",children:"ðŸ†"})," Premium Reward"]}),e.jsxs("span",{className:"text-[10px] text-gray-400 font-mono",children:[Math.round(i),"%"]})]}),e.jsxs("div",{className:"h-2.5 w-full bg-gray-800 rounded-full overflow-hidden border border-white/5 relative shadow-inner",children:[e.jsx("div",{className:"h-full bg-gradient-to-r from-yellow-700 via-yellow-400 to-yellow-200 shadow-[0_0_15px_rgba(250,204,21,0.6)] transition-all duration-1000 ease-out",style:{width:`${i}%`}}),e.jsx("div",{className:"absolute top-0 bottom-0 w-1 bg-white blur-[1px] transition-all duration-1000 ease-out z-10",style:{left:`${i}%`,opacity:i>0?1:0}}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_rgba(148,163,184,0.38),_transparent_60%)] opacity-30 mix-blend-overlay"})]})]})]})},O=({onClose:s})=>{const[l]=d.useState(D),[r,i]=d.useState("12:00:00"),[o,p]=d.useState("MEDIUM"),b=d.useRef(null),f=l.filter(t=>n(t)).length,y=l.reduce((t,a)=>t+(n(a)&&a.rewards.coins||0),0),w=l.reduce((t,a)=>t+(n(a)&&a.rewards.forgeMaterials||0),0),v=l.reduce((t,a)=>t+(n(a)&&a.rewards.eventTokens||0),0),j=120,N=o==="EASY"?.8:o==="HARD"?1.3:1,u=Math.round(f*j*N),S=Math.min(100,u/1800*100),T=l.reduce((t,a)=>t+(n(a)?100:0),0),k=Math.min(100,T/1500*100),x=[...l].sort((t,a)=>n(t)!==n(a)?n(t)?1:-1:(t.isDailyFocus||!1)!==(a.isDailyFocus||!1)?t.isDailyFocus?-1:1:0),c=x.find(t=>!n(t))||x[x.length-1],m=c?!n(c):!1;return d.useEffect(()=>{const t=a=>{a.key==="Escape"&&s()};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[s]),d.useEffect(()=>{const t=setInterval(()=>{const a=new Date,h=new Date;h.setHours(24,0,0,0);const g=h.getTime()-a.getTime(),M=Math.floor(g/(1e3*60*60)%24),L=Math.floor(g/(1e3*60)%60),A=Math.floor(g/1e3%60);i(`${M.toString().padStart(2,"0")}:${L.toString().padStart(2,"0")}:${A.toString().padStart(2,"0")}`)},1e3);return()=>clearInterval(t)},[]),e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsxs("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm animate-fade-in",onClick:s,children:[e.jsx("div",{className:"absolute inset-0 bg-[url('/img/menu_bg.jpg')] bg-cover opacity-20 mix-blend-overlay"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-black/80"}),e.jsx("div",{className:"absolute inset-0 opacity-30 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-yellow-500/10 via-transparent to-transparent"})]}),e.jsxs("div",{ref:b,className:`
                    relative w-[90%] h-[80%]
                    bg-gray-900/95 rounded-2xl shadow-2xl 
                    border-2 border-yellow-500/60 
                    flex flex-col overflow-hidden
                    animate-slide-in-right
                    backdrop-blur-xl
                    ring-1 ring-white/10
                `,children:[e.jsx("div",{className:"absolute inset-0 bg-[url('/img/menu_bg.jpg')] bg-cover opacity-10 mix-blend-overlay pointer-events-none"}),e.jsxs("div",{className:"relative z-20 px-6 py-5 bg-gradient-to-r from-gray-950 via-gray-900 to-gray-950 border-b border-white/10 flex justify-between items-center shadow-lg",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-yellow-500 text-xl animate-pulse",children:"âš¡"}),e.jsx("h2",{className:"text-2xl font-black text-white italic tracking-wide uppercase drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)]",children:"Daily Legends Event"})]}),e.jsxs("div",{className:"mt-2 flex flex-col gap-1",children:[e.jsxs("div",{className:"text-xs text-gray-400 font-mono flex items-center gap-3",children:[e.jsx("span",{className:"text-emerald-400 font-bold bg-emerald-950/50 px-2 py-0.5 rounded border border-emerald-500/20",children:"Day 4/7"}),e.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-600"}),e.jsxs("span",{children:["Rotation in"," ",e.jsx("span",{className:"text-yellow-200 font-bold tracking-widest",children:r})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] text-gray-400 uppercase tracking-widest",children:"Event Score"}),e.jsx("span",{className:"text-sm font-bold text-yellow-300 font-mono",children:u.toString().padStart(3,"0")})]}),e.jsxs("div",{className:"flex flex-col flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-[10px] text-gray-400 uppercase tracking-widest",children:"Journey"}),e.jsxs("span",{className:"text-[10px] text-gray-300 font-mono",children:[f,"/",l.length," chapters"]})]}),e.jsx("div",{className:"mt-1 h-1.5 w-full bg-gray-800 rounded-full overflow-hidden border border-white/5",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-500 via-yellow-400 to-yellow-200 transition-all duration-700",style:{width:`${S}%`}})})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex flex-col items-end mr-2",children:[e.jsx("span",{className:"text-[10px] text-gray-400 uppercase tracking-widest",children:"Difficulty"}),e.jsx("div",{className:"mt-1 flex bg-gray-800 rounded-full p-0.5 border border-gray-700",children:["EASY","MEDIUM","HARD"].map(t=>{const a=o===t;return e.jsx("button",{onClick:()=>p(t),className:["px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-widest transition-colors",a?"bg-yellow-400 text-black":"text-gray-300 hover:bg-gray-700"].join(" "),children:t},t)})})]}),e.jsx("button",{onClick:s,className:"w-8 h-8 rounded-full bg-gray-800 border border-gray-700 text-gray-400 hover:text-white hover:bg-red-900/50 hover:border-red-500/50 transition-colors flex items-center justify-center",children:"âœ•"})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-yellow-500/50 to-transparent shadow-[0_0_10px_rgba(234,179,8,0.5)]"})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-3 scroll-smooth relative no-scrollbar snap-y snap-mandatory overscroll-contain z-10",children:[e.jsx("div",{className:"sticky top-0 left-0 right-0 h-6 bg-gradient-to-b from-gray-900 via-gray-900/90 to-transparent z-10 pointer-events-none -mt-4 mb-2"}),x.map((t,a)=>e.jsx(F,{task:t,index:a},t.id)),e.jsx("div",{className:"sticky bottom-0 left-0 right-0 h-12 bg-gradient-to-t from-gray-900 via-gray-900/90 to-transparent z-10 pointer-events-none -mb-6 mt-2"})]}),e.jsxs("div",{className:"relative z-20 px-4 md:px-6 py-3 bg-black/85 border-t border-white/10 flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] text-gray-400 uppercase tracking-widest",children:"Next challenge"}),e.jsx("span",{className:"text-sm font-bold text-white truncate max-w-[260px]",children:c?c.title:"All tasks complete"}),c&&e.jsx("span",{className:"text-[10px] text-gray-400 truncate max-w-[260px]",children:c.description})]}),e.jsx("button",{disabled:!m,onClick:s,className:["px-4 md:px-6 py-2 rounded-full text-xs md:text-sm font-bold uppercase tracking-widest transition-colors",m?"bg-yellow-400 text-black hover:bg-yellow-300":"bg-gray-700 text-gray-400 cursor-default"].join(" "),children:m?"Play Next Challenge":"Journey Complete"})]}),e.jsx(E,{totalCoins:y,totalMaterials:w,totalTokens:v,premiumProgress:k})]})]})};export{O as EventModePanel};
