import{r as x,j as e}from"./vendor-DU2oVBwu.js";import{a as b,u as m,b as j,c as f,d as y,p as N}from"./index-CF1KAMmK.js";const E=()=>{const{settings:a,updateSettings:d}=b(),{user:t}=m(),[h,u]=x.useState([]),[p,i]=x.useState(!1),c=!!t&&(t.username==="ThariqNoR"||t.username==="SREEHARI"||t.role==="Owner");x.useEffect(()=>{if(!c)return;i(!0);const s=j(f(y,"users"),n=>{const o=n.docs.map(r=>{const l=r.data();return{...l,uid:l.uid||r.id}});u(o),i(!1)},()=>{i(!1)});return()=>{s()}},[c]);const g=s=>{if(!s.squad||s.squad.length===0)return 0;const n=s.squad.slice(0,11).map(r=>N.find(l=>l.id===r)).filter(Boolean);if(n.length===0)return 0;const o=n.reduce((r,l)=>r+(l.ovr||0),0);return Math.round(o/n.length)};return e.jsxs("div",{className:"w-full min-h-[420px] bg-gray-900 p-8 overflow-y-auto",children:[e.jsx("h1",{className:"text-3xl font-black italic text-transparent bg-clip-text bg-gradient-to-r from-gray-200 to-gray-400 mb-8",children:"SETTINGS"}),e.jsxs("div",{className:"max-w-2xl space-y-8",children:[c&&e.jsxs("section",{className:"bg-gray-800 p-6 rounded-xl border border-indigo-600",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Creator Panel: User Overview"}),e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Read-only view of all users for MRN balancing: username, email, id, OVR, and squad size."}),e.jsx("div",{className:"mt-2 max-h-72 overflow-y-auto border border-gray-700 rounded-lg",children:e.jsxs("table",{className:"min-w-full text-left text-xs text-gray-300",children:[e.jsx("thead",{className:"bg-gray-900 text-gray-400 uppercase",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2",children:"Username"}),e.jsx("th",{className:"px-3 py-2",children:"Gmail"}),e.jsx("th",{className:"px-3 py-2",children:"User ID"}),e.jsx("th",{className:"px-3 py-2",children:"OVR"}),e.jsx("th",{className:"px-3 py-2",children:"Squad"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-800",children:p?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-3 py-4 text-center text-gray-400",children:"Loading users..."})}):h.map(s=>e.jsxs("tr",{className:"hover:bg-gray-900/60",children:[e.jsx("td",{className:"px-3 py-2 font-semibold text-white",children:s.username}),e.jsx("td",{className:"px-3 py-2",children:s.email}),e.jsx("td",{className:"px-3 py-2 font-mono text-[11px]",children:s.uid}),e.jsx("td",{className:"px-3 py-2 text-yellow-300",children:g(s)}),e.jsx("td",{className:"px-3 py-2",children:s.squad?s.squad.length:0})]},s.uid))})]})})]}),e.jsxs("section",{className:"bg-gray-800 p-6 rounded-xl border border-gray-700",children:[e.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ–¥ï¸"})," GRAPHICS"]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-bold",children:"Quality Preset"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Affects performance & battery"})]}),e.jsx("div",{className:"flex gap-2 bg-gray-900 p-1 rounded-lg",children:["LOW","MEDIUM","HIGH"].map(s=>e.jsx("button",{onClick:()=>d({graphicsQuality:s}),className:`px-4 py-2 rounded text-sm font-bold transition-colors ${a.graphicsQuality===s?"bg-emerald-600 text-white shadow":"text-gray-400 hover:text-white"}`,children:s},s))})]})})]}),e.jsxs("section",{className:"bg-gray-800 p-6 rounded-xl border border-gray-700",children:[e.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸŽ®"})," GAMEPLAY"]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-bold",children:"AI Difficulty"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Affects reaction, not stats"})]}),e.jsx("div",{className:"flex gap-2 bg-gray-900 p-1 rounded-lg",children:["BEGINNER","INTERMEDIATE","ADVANCED"].map(s=>e.jsx("button",{onClick:()=>d({aiDifficulty:s}),className:`px-3 py-2 rounded text-xs font-bold transition-colors ${a.aiDifficulty===s?"bg-red-600 text-white shadow":"text-gray-400 hover:text-white"}`,children:s},s))})]})})]}),e.jsxs("section",{className:"bg-gray-800 p-6 rounded-xl border border-gray-700",children:[e.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ”Š"})," AUDIO"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white font-bold",children:"Sound Effects"}),e.jsx("button",{onClick:()=>d({soundEnabled:!a.soundEnabled}),className:`w-14 h-8 rounded-full transition-colors relative ${a.soundEnabled?"bg-emerald-600":"bg-gray-600"}`,children:e.jsx("div",{className:`absolute top-1 w-6 h-6 rounded-full bg-white shadow transition-all ${a.soundEnabled?"left-7":"left-1"}`})})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white font-bold",children:"Music"}),e.jsx("button",{onClick:()=>d({musicEnabled:!a.musicEnabled}),className:`w-14 h-8 rounded-full transition-colors relative ${a.musicEnabled?"bg-emerald-600":"bg-gray-600"}`,children:e.jsx("div",{className:`absolute top-1 w-6 h-6 rounded-full bg-white shadow transition-all ${a.musicEnabled?"left-7":"left-1"}`})})]})]})]}),e.jsxs("section",{className:"bg-gray-800 p-6 rounded-xl border border-gray-700",children:[e.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ‘¤"})," ACCOUNT"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between p-3 bg-gray-900 rounded",children:[e.jsx("span",{className:"text-gray-400",children:"Username"}),e.jsx("span",{className:"font-bold text-white uppercase",children:t?.username||t?.displayName||"Legend"})]}),e.jsxs("div",{className:"flex justify-between p-3 bg-gray-900 rounded",children:[e.jsx("span",{className:"text-gray-400",children:"Level"}),e.jsx("span",{className:"font-bold text-yellow-400",children:t?.level||1})]}),e.jsxs("div",{className:"flex justify-between p-3 bg-gray-900 rounded",children:[e.jsx("span",{className:"text-gray-400",children:"User ID"}),e.jsx("span",{className:"font-mono text-white",children:t?.uid})]}),e.jsxs("div",{className:"flex justify-between p-3 bg-gray-900 rounded",children:[e.jsx("span",{className:"text-gray-400",children:"Role"}),e.jsx("span",{className:`font-bold ${t?.role==="Owner"?"text-red-400":"text-white"}`,children:t?.role})]}),e.jsxs("div",{className:"flex justify-between p-3 bg-gray-900 rounded",children:[e.jsx("span",{className:"text-gray-400",children:"Cloud Sync"}),e.jsx("span",{className:"text-emerald-400 flex items-center gap-1",children:"â— Connected"})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-700 space-y-3",children:[e.jsxs("button",{onClick:()=>m.getState().logout(),className:"w-full py-3 bg-red-600 hover:bg-red-700 text-white font-black uppercase tracking-wider rounded-lg transition-colors shadow-lg flex items-center justify-center gap-2",children:[e.jsx("span",{className:"material-icons text-sm",children:"logout"}),"Logout"]}),e.jsxs("button",{onClick:()=>{window.confirm("ARE YOU SURE? This will PERMANENTLY DELETE your account, squad, and progress. This action cannot be undone.")&&m.getState().deleteAccount()},className:"w-full py-2 bg-transparent border border-red-900/50 hover:bg-red-900/20 text-red-500 font-bold uppercase tracking-wider rounded-lg transition-colors text-xs flex items-center justify-center gap-2",children:[e.jsx("span",{className:"material-icons text-[10px]",children:"delete_forever"}),"Delete Account"]})]})]}),e.jsxs("div",{className:"text-center text-xs text-gray-500 mt-8",children:[e.jsx("p",{children:"MRN FOOTBALL LEGENDS v0.0.1"}),e.jsx("p",{children:"Â© 2026 GTB_STUDIO. All rights reserved."})]})]})]})};export{E as Settings};
