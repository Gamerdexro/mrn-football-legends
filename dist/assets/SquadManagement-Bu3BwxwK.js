import{r as p,j as e}from"./vendor-DU2oVBwu.js";import{u as Ne,p as Re}from"./index-CF1KAMmK.js";import{g as W,P as K}from"./PlayerFace-CuU6bd_3.js";const G=[{id:"433_BALANCED",label:"4-3-3",shape:"4-3-3",style:"BALANCED",unlockTier:"STARTER",positions:[{id:"GK",top:"85%",left:"50%",role:"GK"},{id:"LB",top:"65%",left:"20%",role:"DEF"},{id:"LCB",top:"70%",left:"40%",role:"DEF"},{id:"RCB",top:"70%",left:"60%",role:"DEF"},{id:"RB",top:"65%",left:"80%",role:"DEF"},{id:"LCM",top:"47%",left:"35%",role:"MID"},{id:"CM",top:"50%",left:"50%",role:"MID"},{id:"RCM",top:"47%",left:"65%",role:"MID"},{id:"LW",top:"25%",left:"25%",role:"FWD"},{id:"ST",top:"20%",left:"50%",role:"FWD"},{id:"RW",top:"25%",left:"75%",role:"FWD"}]},{id:"433_ATTACK",label:"4-3-3 Attack",shape:"4-3-3",style:"ATTACKING",unlockTier:"STARTER",positions:[{id:"GK",top:"85%",left:"50%",role:"GK"},{id:"LB",top:"67%",left:"18%",role:"DEF"},{id:"LCB",top:"72%",left:"40%",role:"DEF"},{id:"RCB",top:"72%",left:"60%",role:"DEF"},{id:"RB",top:"67%",left:"82%",role:"DEF"},{id:"LCM",top:"50%",left:"35%",role:"MID"},{id:"CM",top:"48%",left:"50%",role:"MID"},{id:"RCM",top:"50%",left:"65%",role:"MID"},{id:"LW",top:"20%",left:"20%",role:"FWD"},{id:"ST",top:"18%",left:"50%",role:"FWD"},{id:"RW",top:"20%",left:"80%",role:"FWD"}]},{id:"433_DEF",label:"4-3-3 Def",shape:"4-3-3",style:"DEFENSIVE",unlockTier:"STARTER",positions:[{id:"GK",top:"88%",left:"50%",role:"GK"},{id:"LB",top:"72%",left:"22%",role:"DEF"},{id:"LCB",top:"75%",left:"40%",role:"DEF"},{id:"RCB",top:"75%",left:"60%",role:"DEF"},{id:"RB",top:"72%",left:"78%",role:"DEF"},{id:"LCM",top:"55%",left:"38%",role:"MID"},{id:"CM",top:"57%",left:"50%",role:"MID"},{id:"RCM",top:"55%",left:"62%",role:"MID"},{id:"LW",top:"32%",left:"28%",role:"FWD"},{id:"ST",top:"28%",left:"50%",role:"FWD"},{id:"RW",top:"32%",left:"72%",role:"FWD"}]},{id:"4231_BALANCED",label:"4-2-3-1",shape:"4-2-3-1",style:"BALANCED",unlockTier:"STARTER",positions:[{id:"GK",top:"86%",left:"50%",role:"GK"},{id:"LB",top:"68%",left:"20%",role:"DEF"},{id:"LCB",top:"72%",left:"38%",role:"DEF"},{id:"RCB",top:"72%",left:"62%",role:"DEF"},{id:"RB",top:"68%",left:"80%",role:"DEF"},{id:"LDM",top:"58%",left:"40%",role:"MID"},{id:"RDM",top:"58%",left:"60%",role:"MID"},{id:"LAM",top:"42%",left:"32%",role:"MID"},{id:"CAM",top:"40%",left:"50%",role:"MID"},{id:"RAM",top:"42%",left:"68%",role:"MID"},{id:"ST",top:"25%",left:"50%",role:"FWD"}]},{id:"4222_ATTACK",label:"4-2-2-2",shape:"4-2-2-2",style:"ATTACKING",unlockTier:"PREMIUM_SHOP",positions:[{id:"GK",top:"86%",left:"50%",role:"GK"},{id:"LB",top:"68%",left:"18%",role:"DEF"},{id:"LCB",top:"72%",left:"38%",role:"DEF"},{id:"RCB",top:"72%",left:"62%",role:"DEF"},{id:"RB",top:"68%",left:"82%",role:"DEF"},{id:"LDM",top:"58%",left:"40%",role:"MID"},{id:"RDM",top:"58%",left:"60%",role:"MID"},{id:"LAM",top:"42%",left:"38%",role:"MID"},{id:"RAM",top:"42%",left:"62%",role:"MID"},{id:"STL",top:"25%",left:"42%",role:"FWD"},{id:"STR",top:"25%",left:"58%",role:"FWD"}]},{id:"442_BALANCED",label:"4-4-2",shape:"4-4-2",style:"BALANCED",unlockTier:"MARKET_MEDIUM",positions:[{id:"GK",top:"86%",left:"50%",role:"GK"},{id:"LB",top:"70%",left:"20%",role:"DEF"},{id:"LCB",top:"72%",left:"40%",role:"DEF"},{id:"RCB",top:"72%",left:"60%",role:"DEF"},{id:"RB",top:"70%",left:"80%",role:"DEF"},{id:"LM",top:"52%",left:"25%",role:"MID"},{id:"LCM",top:"52%",left:"42%",role:"MID"},{id:"RCM",top:"52%",left:"58%",role:"MID"},{id:"RM",top:"52%",left:"75%",role:"MID"},{id:"STL",top:"30%",left:"44%",role:"FWD"},{id:"STR",top:"30%",left:"56%",role:"FWD"}]},{id:"442_DEF",label:"4-4-2 Def",shape:"4-4-2",style:"DEFENSIVE",unlockTier:"MARKET_MEDIUM",positions:[{id:"GK",top:"88%",left:"50%",role:"GK"},{id:"LB",top:"74%",left:"22%",role:"DEF"},{id:"LCB",top:"76%",left:"40%",role:"DEF"},{id:"RCB",top:"76%",left:"60%",role:"DEF"},{id:"RB",top:"74%",left:"78%",role:"DEF"},{id:"LM",top:"58%",left:"26%",role:"MID"},{id:"LCM",top:"58%",left:"44%",role:"MID"},{id:"RCM",top:"58%",left:"56%",role:"MID"},{id:"RM",top:"58%",left:"74%",role:"MID"},{id:"STL",top:"36%",left:"46%",role:"FWD"},{id:"STR",top:"36%",left:"54%",role:"FWD"}]},{id:"352_BALANCED",label:"3-5-2",shape:"3-5-2",style:"BALANCED",unlockTier:"PREMIUM_SHOP",positions:[{id:"GK",top:"86%",left:"50%",role:"GK"},{id:"LCB",top:"72%",left:"35%",role:"DEF"},{id:"CB",top:"74%",left:"50%",role:"DEF"},{id:"RCB",top:"72%",left:"65%",role:"DEF"},{id:"LM",top:"54%",left:"25%",role:"MID"},{id:"LDM",top:"56%",left:"40%",role:"MID"},{id:"RDM",top:"56%",left:"60%",role:"MID"},{id:"RM",top:"54%",left:"75%",role:"MID"},{id:"CAM",top:"42%",left:"50%",role:"MID"},{id:"STL",top:"26%",left:"44%",role:"FWD"},{id:"STR",top:"26%",left:"56%",role:"FWD"}]},{id:"343_ATTACK",label:"3-4-3",shape:"3-4-3",style:"ATTACKING",unlockTier:"PREMIUM_SHOP",positions:[{id:"GK",top:"86%",left:"50%",role:"GK"},{id:"LCB",top:"72%",left:"36%",role:"DEF"},{id:"CB",top:"74%",left:"50%",role:"DEF"},{id:"RCB",top:"72%",left:"64%",role:"DEF"},{id:"LM",top:"54%",left:"28%",role:"MID"},{id:"LCM",top:"52%",left:"42%",role:"MID"},{id:"RCM",top:"52%",left:"58%",role:"MID"},{id:"RM",top:"54%",left:"72%",role:"MID"},{id:"LW",top:"26%",left:"24%",role:"FWD"},{id:"ST",top:"22%",left:"50%",role:"FWD"},{id:"RW",top:"26%",left:"76%",role:"FWD"}]},{id:"4141_DEF",label:"4-1-4-1",shape:"4-1-4-1",style:"DEFENSIVE",unlockTier:"MARKET_MEDIUM",positions:[{id:"GK",top:"88%",left:"50%",role:"GK"},{id:"LB",top:"72%",left:"22%",role:"DEF"},{id:"LCB",top:"74%",left:"38%",role:"DEF"},{id:"RCB",top:"74%",left:"62%",role:"DEF"},{id:"RB",top:"72%",left:"78%",role:"DEF"},{id:"DM",top:"62%",left:"50%",role:"MID"},{id:"LM",top:"52%",left:"26%",role:"MID"},{id:"LCM",top:"50%",left:"40%",role:"MID"},{id:"RCM",top:"50%",left:"60%",role:"MID"},{id:"RM",top:"52%",left:"74%",role:"MID"},{id:"ST",top:"28%",left:"50%",role:"FWD"}]},{id:"451_DEF",label:"4-5-1",shape:"4-5-1",style:"DEFENSIVE",unlockTier:"MARKET_MEDIUM",positions:[{id:"GK",top:"88%",left:"50%",role:"GK"},{id:"LB",top:"72%",left:"22%",role:"DEF"},{id:"LCB",top:"74%",left:"38%",role:"DEF"},{id:"RCB",top:"74%",left:"62%",role:"DEF"},{id:"RB",top:"72%",left:"78%",role:"DEF"},{id:"LM",top:"52%",left:"24%",role:"MID"},{id:"LCM",top:"52%",left:"36%",role:"MID"},{id:"CM",top:"50%",left:"50%",role:"MID"},{id:"RCM",top:"52%",left:"64%",role:"MID"},{id:"RM",top:"52%",left:"76%",role:"MID"},{id:"ST",top:"30%",left:"50%",role:"FWD"}]},{id:"3412_ATTACK",label:"3-4-1-2",shape:"3-4-1-2",style:"ATTACKING",unlockTier:"PREMIUM_SHOP",positions:[{id:"GK",top:"86%",left:"50%",role:"GK"},{id:"LCB",top:"72%",left:"36%",role:"DEF"},{id:"CB",top:"74%",left:"50%",role:"DEF"},{id:"RCB",top:"72%",left:"64%",role:"DEF"},{id:"LM",top:"54%",left:"26%",role:"MID"},{id:"LDM",top:"56%",left:"42%",role:"MID"},{id:"RDM",top:"56%",left:"58%",role:"MID"},{id:"RM",top:"54%",left:"74%",role:"MID"},{id:"CAM",top:"40%",left:"50%",role:"MID"},{id:"STL",top:"24%",left:"46%",role:"FWD"},{id:"STR",top:"24%",left:"54%",role:"FWD"}]},{id:"4321_ATTACK",label:"4-3-2-1",shape:"4-3-2-1",style:"ATTACKING",unlockTier:"PREMIUM_SHOP",positions:[{id:"GK",top:"86%",left:"50%",role:"GK"},{id:"LB",top:"70%",left:"22%",role:"DEF"},{id:"LCB",top:"72%",left:"38%",role:"DEF"},{id:"RCB",top:"72%",left:"62%",role:"DEF"},{id:"RB",top:"70%",left:"78%",role:"DEF"},{id:"LCM",top:"54%",left:"40%",role:"MID"},{id:"CM",top:"52%",left:"50%",role:"MID"},{id:"RCM",top:"54%",left:"60%",role:"MID"},{id:"LF",top:"34%",left:"44%",role:"FWD"},{id:"RF",top:"34%",left:"56%",role:"FWD"},{id:"ST",top:"24%",left:"50%",role:"FWD"}]},{id:"451_ATTACK",label:"4-5-1 Attack",shape:"4-5-1",style:"ATTACKING",unlockTier:"MARKET_MEDIUM",positions:[{id:"GK",top:"86%",left:"50%",role:"GK"},{id:"LB",top:"70%",left:"22%",role:"DEF"},{id:"LCB",top:"72%",left:"38%",role:"DEF"},{id:"RCB",top:"72%",left:"62%",role:"DEF"},{id:"RB",top:"70%",left:"78%",role:"DEF"},{id:"LM",top:"50%",left:"26%",role:"MID"},{id:"LCM",top:"48%",left:"40%",role:"MID"},{id:"CAM",top:"44%",left:"50%",role:"MID"},{id:"RCM",top:"48%",left:"60%",role:"MID"},{id:"RM",top:"50%",left:"74%",role:"MID"},{id:"ST",top:"26%",left:"50%",role:"FWD"}]},{id:"532_DEF",label:"5-3-2",shape:"5-3-2",style:"DEFENSIVE",unlockTier:"MARKET_MEDIUM",positions:[{id:"GK",top:"88%",left:"50%",role:"GK"},{id:"LWB",top:"70%",left:"18%",role:"DEF"},{id:"LCB",top:"72%",left:"34%",role:"DEF"},{id:"CB",top:"74%",left:"50%",role:"DEF"},{id:"RCB",top:"72%",left:"66%",role:"DEF"},{id:"RWB",top:"70%",left:"82%",role:"DEF"},{id:"LCM",top:"56%",left:"42%",role:"MID"},{id:"CM",top:"54%",left:"50%",role:"MID"},{id:"RCM",top:"56%",left:"58%",role:"MID"},{id:"STL",top:"30%",left:"46%",role:"FWD"},{id:"STR",top:"30%",left:"54%",role:"FWD"}]},{id:"541_PARK",label:"5-4-1 Wall",shape:"5-4-1",style:"DEFENSIVE",unlockTier:"PREMIUM_SHOP",positions:[{id:"GK",top:"90%",left:"50%",role:"GK"},{id:"LWB",top:"74%",left:"18%",role:"DEF"},{id:"LCB",top:"76%",left:"34%",role:"DEF"},{id:"CB",top:"78%",left:"50%",role:"DEF"},{id:"RCB",top:"76%",left:"66%",role:"DEF"},{id:"RWB",top:"74%",left:"82%",role:"DEF"},{id:"LM",top:"58%",left:"26%",role:"MID"},{id:"LCM",top:"58%",left:"40%",role:"MID"},{id:"RCM",top:"58%",left:"60%",role:"MID"},{id:"RM",top:"58%",left:"74%",role:"MID"},{id:"ST",top:"34%",left:"50%",role:"FWD"}]},{id:"3421_BALANCED",label:"3-4-2-1",shape:"3-4-2-1",style:"BALANCED",unlockTier:"PREMIUM_SHOP",positions:[{id:"GK",top:"86%",left:"50%",role:"GK"},{id:"LCB",top:"72%",left:"36%",role:"DEF"},{id:"CB",top:"74%",left:"50%",role:"DEF"},{id:"RCB",top:"72%",left:"64%",role:"DEF"},{id:"LM",top:"54%",left:"28%",role:"MID"},{id:"LCM",top:"54%",left:"42%",role:"MID"},{id:"RCM",top:"54%",left:"58%",role:"MID"},{id:"RM",top:"54%",left:"72%",role:"MID"},{id:"LF",top:"34%",left:"44%",role:"FWD"},{id:"RF",top:"34%",left:"56%",role:"FWD"},{id:"ST",top:"24%",left:"50%",role:"FWD"}]},{id:"352_DEF",label:"3-5-2 Def",shape:"3-5-2",style:"DEFENSIVE",unlockTier:"MARKET_MEDIUM",positions:[{id:"GK",top:"88%",left:"50%",role:"GK"},{id:"LCB",top:"74%",left:"36%",role:"DEF"},{id:"CB",top:"76%",left:"50%",role:"DEF"},{id:"RCB",top:"74%",left:"64%",role:"DEF"},{id:"LM",top:"58%",left:"26%",role:"MID"},{id:"LDM",top:"60%",left:"42%",role:"MID"},{id:"RDM",top:"60%",left:"58%",role:"MID"},{id:"RM",top:"58%",left:"74%",role:"MID"},{id:"CAM",top:"44%",left:"50%",role:"MID"},{id:"STL",top:"30%",left:"46%",role:"FWD"},{id:"STR",top:"30%",left:"54%",role:"FWD"}]},{id:"424_ATTACK",label:"4-2-4",shape:"4-2-4",style:"ATTACKING",unlockTier:"PREMIUM_SHOP",positions:[{id:"GK",top:"86%",left:"50%",role:"GK"},{id:"LB",top:"70%",left:"20%",role:"DEF"},{id:"LCB",top:"72%",left:"40%",role:"DEF"},{id:"RCB",top:"72%",left:"60%",role:"DEF"},{id:"RB",top:"70%",left:"80%",role:"DEF"},{id:"LDM",top:"58%",left:"42%",role:"MID"},{id:"RDM",top:"58%",left:"58%",role:"MID"},{id:"LW",top:"30%",left:"20%",role:"FWD"},{id:"STL",top:"26%",left:"40%",role:"FWD"},{id:"STR",top:"26%",left:"60%",role:"FWD"},{id:"RW",top:"30%",left:"80%",role:"FWD"}]},{id:"361_DEF",label:"3-6-1",shape:"3-6-1",style:"DEFENSIVE",unlockTier:"MARKET_MEDIUM",positions:[{id:"GK",top:"88%",left:"50%",role:"GK"},{id:"LCB",top:"74%",left:"36%",role:"DEF"},{id:"CB",top:"76%",left:"50%",role:"DEF"},{id:"RCB",top:"74%",left:"64%",role:"DEF"},{id:"LM",top:"58%",left:"24%",role:"MID"},{id:"LCM",top:"58%",left:"36%",role:"MID"},{id:"CM",top:"56%",left:"50%",role:"MID"},{id:"RCM",top:"58%",left:"64%",role:"MID"},{id:"RM",top:"58%",left:"76%",role:"MID"},{id:"CAM",top:"44%",left:"50%",role:"MID"},{id:"ST",top:"30%",left:"50%",role:"FWD"}]},{id:"433_WIDE",label:"4-3-3 Wide",shape:"4-3-3",style:"ATTACKING",unlockTier:"PREMIUM_SHOP",positions:[{id:"GK",top:"86%",left:"50%",role:"GK"},{id:"LB",top:"68%",left:"18%",role:"DEF"},{id:"LCB",top:"72%",left:"40%",role:"DEF"},{id:"RCB",top:"72%",left:"60%",role:"DEF"},{id:"RB",top:"68%",left:"82%",role:"DEF"},{id:"LCM",top:"52%",left:"38%",role:"MID"},{id:"CM",top:"50%",left:"50%",role:"MID"},{id:"RCM",top:"52%",left:"62%",role:"MID"},{id:"LW",top:"20%",left:"18%",role:"FWD"},{id:"ST",top:"22%",left:"50%",role:"FWD"},{id:"RW",top:"20%",left:"82%",role:"FWD"}]}],Ce=[{id:"FOUNDATION_XI",label:"Foundations XI",description:"Full starting XI grants a small all-round boost.",type:"BALANCED",attackBonus:1,midfieldBonus:1,defenseBonus:1,requirement:"FOUNDATION_XI"},{id:"WING_SYNERGY",label:"Wing Synergy",description:"Fast wingers with creative mids boost attacking threat.",type:"ATTACK",attackBonus:2,midfieldBonus:1,defenseBonus:0,requirement:"SYNERGY_PAIR"},{id:"DEEP_SQUAD",label:"Deep Squad",description:"Larger roster improves depth and stability.",type:"DEFENSE",attackBonus:0,midfieldBonus:1,defenseBonus:2,requirement:"DEPTH_18"}],ye=[{id:"CHALLENGE_FOUNDATIONS",label:"Foundations Ready",description:"Fill all 11 starting slots with players.",requirement:"FOUNDATION_XI"},{id:"CHALLENGE_WING_PLAY",label:"Wing Play Online",description:"Activate at least one fast winger and creative mid link.",requirement:"SYNERGY_PAIR"},{id:"CHALLENGE_HOMEGROWN",label:"Homegrown Core",description:"Field a starting XI made entirely of Standard cards.",requirement:"STANDARD_ONLY"}],re=i=>{const o=i.toUpperCase();return o==="GK"?"GK":o==="CB"||o==="RB"||o==="LB"||o==="RWB"||o==="LWB"?"DEF":o==="DMF"||o==="CMF"||o==="AMF"||o==="RMF"||o==="LMF"||o==="DM"||o==="CM"||o==="CAM"?"MID":"FWD"},ve=i=>{const o=i.toUpperCase();return o==="LWF"||o==="RWF"||o==="LW"||o==="RW"||o==="LMF"||o==="RMF"},Ae=i=>{const o=i.toUpperCase();return o==="CMF"||o==="AMF"||o==="CM"||o==="CAM"||o==="RMF"||o==="LMF"||o==="DMF"||o==="DM"},Le=(i,o)=>i.requirement==="FOUNDATION_XI"?o.hasFullXI:i.requirement==="SYNERGY_PAIR"?o.synergyPairs>=1:i.requirement==="DEPTH_18"?o.rosterSize>=18:!1,je=(i,o)=>i.requirement==="FOUNDATION_XI"?o.hasFullXI:i.requirement==="SYNERGY_PAIR"?o.synergyPairs>=1:i.requirement==="STANDARD_ONLY"?o.allStandardXI:!1,_e=({onNavigate:i})=>{const{user:o,removeFromSquad:ie,swapSquadPlayers:se,setFormation:de,equipBadge:P,autoPickSquad:ae}=Ne(),[h,v]=p.useState(null),[x,A]=p.useState(null),[R,ne]=p.useState("ALL"),[C,pe]=p.useState("ALL"),ce=["PLAYER_001","PLAYER_002","PLAYER_003","PLAYER_004","PLAYER_005","PLAYER_006","PLAYER_007","PLAYER_008","PLAYER_009","PLAYER_010","PLAYER_011"],c=p.useMemo(()=>o?.squad.map(t=>Re.find(l=>l.id===t)).filter(t=>t!==void 0)||[],[o?.squad]),d=c.slice(0,11),M=c.slice(11),fe=()=>{const t=[...c];if(!t.length)return[];const l=t.filter(n=>n.position==="GK"),r=t.filter(n=>n.position!=="GK"),s=[...l].sort((n,N)=>(N.ovr||0)-(n.ovr||0)),I=[...r].sort((n,N)=>(N.ovr||0)-(n.ovr||0)),u=[];s.length>0&&u.push(s[0].id);for(const n of I){if(u.length>=11)break;u.push(n.id)}return u},xe=()=>{const t=fe();t.length>0&&ae(t)},O=p.useMemo(()=>[...c].sort((l,r)=>(r.ovr||0)-(l.ovr||0)),[c]),b=p.useMemo(()=>G.find(l=>l.id===(o?.selectedFormationId||"433_BALANCED"))||G[0],[o?.selectedFormationId]),L=d.length?Math.round(d.reduce((t,l)=>t+(l?.ovr||0),0)/d.length):0,me=new Set(d.map(t=>t.id)),De=new Set(M.map(t=>t.id)),q=p.useMemo(()=>{let t=O;if(R!=="ALL"&&(t=t.filter(l=>re(String(l.position||""))===R)),C!=="ALL"){const l=parseInt(C,10);Number.isNaN(l)||(t=t.filter(r=>(r.ovr||0)>=l))}return t},[O,R,C]);let j=0,B=0,T=0,a=0,S=0,_=0,U=!0,Y=0,k=0,H=0,X=0,V=0,z=0;if(d.length){const t=d;for(const l of t){if(!l)continue;const r=l.stats||{},s=String(l.position||""),I=Number(r.speed||0),u=Number(r.shooting||0),n=Number(r.passing||0),N=Number(r.defense||0);j+=u,B+=n,T+=N,a+=1;const oe=Number(r.stamina||60);Y+=oe,oe<60&&(k+=1);const y=re(s);y==="GK"?H+=1:y==="DEF"?X+=1:y==="MID"?V+=1:y==="FWD"&&(z+=1),ve(s)&&I>=68&&(S+=1),Ae(s)&&n>=65&&(_+=1),String(l.rarity||"")!=="Standard"&&(U=!1)}}const m=Math.min(S,_),ue=m*2;let w="Foundations",g=0;L>=80?(w="Elite",g=4):L>=70&&(w="Pro",g=2);const he={hasFullXI:d.length===11,synergyPairs:m,rosterSize:c.length},$=Ce.map(t=>{const l=Le(t,he),r=l&&o?.equippedBadgeId===t.id;return{badge:t,unlocked:l,active:r}}),D=$.find(t=>t.active)?.badge||null;let Q=0,J=0,Z=0;a>0&&(Q=Math.round(j/a+ue+g+(D?D.attackBonus:0)),J=Math.round(B/a+g+(D?D.midfieldBonus:0)),Z=Math.round(T/a+g+(D?D.defenseBonus:0)));const ee=a>0?j/a:0,Me=a>0?B/a:0,be=a>0?T/a:0,ge=a>0?Math.round(Y/a):0;let E="Balanced",F="Well-rounded base squad.";be>=ee&&b.style==="ATTACKING"?(E="Pressing",F="Front-foot defending and high pressure."):Me>=ee+4?(E="Possession",F="Midfield control and safer tempo."):S>=2&&_>=1?(E="Counter",F="Quick transitions and wide breaks."):b.style==="DEFENSIVE"&&(E="Balanced",F="Compact and risk-aware shape.");const f=[];H===0&&f.push("No goalkeeper"),X<3&&f.push("Low defence coverage"),V<2&&f.push("Thin midfield"),z===0&&f.push("No forwards");const Ee=f.length===0?"Match ready":f.join(" â€¢ "),Fe=ye.map(t=>{const l=je(t,{hasFullXI:d.length===11,synergyPairs:m,allStandardXI:U});return{challenge:t,completed:l}}),Ie=t=>{if(!o)return;const l=d[t];if(l){if(x){const r=x,s=l.id;A(null),v(null),se(r,s);return}v(h===t?null:t)}},te=t=>{switch(t){case"Premium Legend":return"border-yellow-300 bg-gradient-to-br from-black via-yellow-900 to-yellow-700 shadow-[0_0_25px_rgba(250,204,21,0.9)]";case"Premium":return"border-yellow-200 bg-gradient-to-br from-yellow-900 via-yellow-700 to-amber-500 shadow-[0_0_20px_rgba(253,224,71,0.7)]";case"Legendary":return"border-amber-300 bg-gradient-to-br from-amber-900 via-amber-700 to-yellow-500 shadow-[0_0_18px_rgba(252,211,77,0.6)]";case"Iconic":return"border-red-400 bg-gradient-to-br from-black via-red-900 to-yellow-600 shadow-[0_0_16px_rgba(248,113,113,0.7)]";case"Epic":return"border-purple-400 bg-gradient-to-br from-purple-900 via-purple-700 to-fuchsia-500 shadow-[0_0_16px_rgba(196,181,253,0.7)]";case"Rare":return"border-yellow-300 bg-gradient-to-br from-blue-900 via-indigo-800 to-yellow-500 shadow-[0_0_12px_rgba(129,212,250,0.6)]";default:return"border-gray-400 bg-gradient-to-br from-slate-800 via-slate-900 to-black"}},le=t=>{if(!t)return 0;const l=t.stats||{};return typeof l.stamina=="number"?l.stamina:60};return e.jsxs("div",{className:"w-full h-full bg-gray-900 flex flex-col md:flex-row",children:[e.jsxs("div",{className:"flex-1 relative bg-green-800 m-4 rounded-xl border-4 border-white/10 shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-20 pointer-events-none",children:[e.jsx("div",{className:"w-full h-1/2 border-b-2 border-white"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-32 h-32 border-2 border-white rounded-full"}),e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-48 h-24 border-b-2 border-x-2 border-white"}),e.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-48 h-24 border-t-2 border-x-2 border-white"})]}),e.jsxs("div",{className:"absolute top-4 left-4 bg-black/50 p-2 rounded text-white z-10",children:[e.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Team OVR"}),e.jsx("div",{className:"text-3xl font-black",children:L}),e.jsxs("div",{className:"mt-1 flex gap-2 text-[10px]",children:[e.jsxs("span",{className:"px-1.5 py-0.5 rounded bg-emerald-600/40 border border-emerald-400/60",children:["ATK ",Q||0]}),e.jsxs("span",{className:"px-1.5 py-0.5 rounded bg-sky-600/40 border border-sky-400/60",children:["MID ",J||0]}),e.jsxs("span",{className:"px-1.5 py-0.5 rounded bg-indigo-600/40 border border-indigo-400/60",children:["DEF ",Z||0]})]}),e.jsxs("div",{className:"mt-1 text-[10px] text-yellow-300",children:[w," Squad"]}),m>0&&e.jsxs("div",{className:"mt-1 text-[10px] text-emerald-300",children:["Synergy active: ",m," link",m>1?"s":""]}),e.jsxs("div",{className:"mt-1 text-[10px] text-sky-200",children:["Identity: ",E]}),e.jsx("div",{className:"text-[9px] text-slate-200/80 max-w-[180px]",children:F}),e.jsx("button",{onClick:xe,className:"mt-2 w-full py-1 text-[10px] bg-emerald-600 hover:bg-emerald-500 text-white rounded font-bold transition-colors shadow-lg border border-emerald-400",children:"Auto Pick Best XI"})]}),b.positions.map((t,l)=>{const r=d[l];if(!r)return null;const s=W(r.id),I=le(r);return e.jsxs("div",{onClick:()=>Ie(l),className:"absolute -translate-x-1/2 -translate-y-1/2 cursor-pointer transition-transform hover:scale-110 flex flex-col items-center group",style:{top:t.top,left:t.left},children:[e.jsxs("div",{className:`rounded-full border-2 flex items-center justify-center shadow-lg relative ${te(r.rarity)} ${h===l?"ring-4 ring-white":""}`,children:[e.jsx(K,{playerId:r.id,size:"md"}),e.jsx("div",{className:"absolute -top-2 -right-2 bg-black text-white text-[10px] font-bold px-1 rounded border border-white",children:r.ovr})]}),e.jsx("div",{className:"mt-1 bg-black/70 px-2 py-0.5 rounded text-[10px] text-white font-bold truncate max-w-[80px] text-center border border-white/20 group-hover:bg-black",children:r.name}),e.jsx("div",{className:"text-[9px] font-mono text-cyan-300 bg-black/50 px-1 rounded mt-0.5",children:s.country}),e.jsx("div",{className:"text-[9px] font-mono text-yellow-400 bg-black/50 px-1 rounded mt-0.5",children:t.id}),e.jsxs("div",{className:"text-[9px] font-mono text-emerald-300 bg-black/50 px-1 rounded mt-0.5",children:["STA ",I]})]},l)})]}),e.jsxs("div",{className:"w-full md:w-80 bg-gray-800 p-4 border-l border-gray-700 overflow-y-auto",children:[e.jsxs("h2",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ§ "})," Squad HQ"]}),e.jsxs("div",{className:"mb-2 grid grid-cols-2 gap-2 text-xs text-gray-200",children:[e.jsxs("div",{className:"bg-gray-700/70 rounded p-2 border border-gray-600",children:[e.jsx("div",{className:"text-[10px] uppercase text-gray-400",children:"Roster"}),e.jsx("div",{className:"text-lg font-bold",children:c.length}),e.jsx("div",{className:"text-[10px] text-gray-300 mt-0.5",children:"Owned players"})]}),e.jsxs("div",{className:"bg-gray-700/70 rounded p-2 border border-gray-600",children:[e.jsx("div",{className:"text-[10px] uppercase text-gray-400",children:"Active Squad"}),e.jsxs("div",{className:"text-xs",children:["XI ",d.length," â€¢ Bench ",M.length]}),e.jsx("div",{className:"text-[10px] text-gray-300 mt-0.5",children:b.label})]}),e.jsxs("div",{className:"bg-gray-700/70 rounded p-2 border border-emerald-500/60",children:[e.jsx("div",{className:"text-[10px] uppercase text-emerald-300",children:"Training Points"}),e.jsx("div",{className:"text-lg font-bold text-emerald-200",children:o?.trainingPoints??0}),e.jsx("div",{className:"text-[10px] text-emerald-400 mt-0.5",children:"Used for upgrades in Training"})]}),e.jsxs("div",{className:"bg-gray-700/70 rounded p-2 border border-gray-600",children:[e.jsx("div",{className:"text-[10px] uppercase text-gray-400",children:"Stamina Profile"}),e.jsx("div",{className:"text-lg font-bold",children:ge||"--"}),e.jsx("div",{className:"text-[10px] text-gray-300 mt-0.5",children:k>0?`${k} low-stamina starters`:"Rotation ready"})]})]}),e.jsxs("div",{className:"mb-4 text-[11px] text-gray-300",children:[e.jsx("span",{className:"uppercase tracking-widest text-gray-400 mr-1",children:"Validation"}),e.jsx("span",{className:f.length===0?"text-emerald-300":"text-amber-300",children:Ee})]}),i&&e.jsxs("button",{onClick:()=>i("TRAINING_HUB"),className:"w-full mb-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded font-bold transition-colors flex items-center justify-center gap-2 shadow-lg",children:[e.jsx("span",{className:"material-icons",children:"fitness_center"}),e.jsx("span",{children:"Go to Training"})]}),e.jsxs("h2",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ“‹"})," Formations"]}),e.jsx("div",{className:"mb-4 grid grid-cols-2 gap-2",children:G.map(t=>{const r=!(t.unlockTier==="STARTER"),s=t.id===b.id;return e.jsxs("button",{disabled:r,onClick:()=>de(t.id),className:["px-2 py-1 rounded text-[10px] font-bold border",s?"bg-emerald-500 text-black border-emerald-300":"bg-gray-700 text-gray-200 border-gray-600",r?"opacity-60 cursor-not-allowed":"hover:bg-gray-600"].join(" "),children:[e.jsx("div",{children:t.label}),e.jsx("div",{className:"text-[9px] text-gray-300",children:t.style==="ATTACKING"?"Attacking":t.style==="DEFENSIVE"?"Defensive":"Balanced"}),e.jsx("div",{className:"text-[9px] text-yellow-300",children:t.unlockTier==="STARTER"?"Starter":t.unlockTier==="PREMIUM_SHOP"?"Premium Shop":"Market"})]},t.id)})}),e.jsxs("h2",{className:"text-xl font-bold text-white mb-1 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ‘Ÿ"})," RESERVES"]}),x&&h!==null&&d[h]&&e.jsxs("div",{className:"mb-3 text-[11px] text-amber-300 bg-amber-900/40 border border-amber-500/60 rounded px-2 py-1",children:["Swap ",e.jsx("span",{className:"font-bold",children:M.find(t=>t.id===x)?.name})," â†”"," ",e.jsx("span",{className:"font-bold",children:d[h].name})," â€” tap either to confirm."]}),e.jsxs("div",{className:"space-y-2",children:[M.map(t=>{const l=W(t.id),r=le(t);return e.jsxs("div",{onClick:()=>{x===t.id?A(null):A(t.id)},className:`flex items-center gap-3 p-2 rounded bg-gray-700 hover:bg-gray-600 cursor-pointer border-l-4 ${te(t.rarity).split(" ")[0]} ${x===t.id?"ring-2 ring-emerald-400":""}`,children:[e.jsx(K,{playerId:t.id,size:"sm"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-bold text-white",children:t.name}),e.jsxs("div",{className:"text-xs text-gray-400",children:[t.position," | OVR: ",t.ovr]}),e.jsx("div",{className:"text-[10px] text-cyan-300",children:l.country}),e.jsxs("div",{className:"text-[10px] text-emerald-300",children:["STA ",r]}),Array.isArray(t.skills)&&t.skills.length>0&&e.jsx("div",{className:"text-[10px] text-emerald-300 truncate",children:t.skills.slice(0,2).join(" â€¢ ")})]}),ce.includes(t.id)?e.jsx("div",{className:"text-[10px] text-gray-400 uppercase tracking-wider",children:"Starter"}):e.jsx("button",{onClick:()=>ie(t.id),className:"text-[10px] px-2 py-1 rounded border border-red-500/50 text-red-400 hover:bg-red-500/10",children:"Remove"})]},t.id)}),M.length===0&&e.jsxs("div",{className:"text-gray-500 text-center py-8",children:["No reserves available.",e.jsx("br",{}),e.jsx("span",{className:"text-xs",children:"Buy packs to expand your squad!"})]})]}),e.jsxs("h2",{className:"text-xl font-bold text-white mt-5 mb-2 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸŽ´"})," Team Badges"]}),e.jsx("div",{className:"space-y-2 mb-4",children:$.map(({badge:t,unlocked:l,active:r})=>e.jsxs("button",{type:"button",disabled:!l,onClick:()=>{l&&P(r?"":t.id)},className:["w-full text-left p-2 rounded border text-xs transition-colors",r?"bg-emerald-600/60 border-emerald-400 text-black":l?"bg-gray-700 border-gray-500 text-gray-100 hover:bg-gray-600":"bg-gray-800 border-gray-700 text-gray-500 cursor-not-allowed"].join(" "),children:[e.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[e.jsx("div",{className:"font-bold",children:t.label}),e.jsx("div",{className:"text-[10px] uppercase text-yellow-300",children:t.type})]}),e.jsx("div",{className:"text-[11px] text-gray-200",children:t.description}),e.jsxs("div",{className:"mt-1 text-[10px] text-emerald-300",children:["+ATK ",t.attackBonus," | +MID ",t.midfieldBonus," | +DEF ",t.defenseBonus]}),!l&&e.jsx("div",{className:"mt-1 text-[10px] text-red-300",children:"Locked â€“ complete its condition in your XI."}),r&&e.jsx("div",{className:"mt-1 text-[10px] text-black",children:"Equipped"})]},t.id))}),e.jsxs("h2",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ“š"})," Squad Challenges"]}),e.jsx("div",{className:"space-y-2 mb-4",children:Fe.map(({challenge:t,completed:l})=>e.jsxs("div",{className:["p-2 rounded border text-xs",l?"bg-emerald-700/40 border-emerald-400 text-emerald-100":"bg-gray-700 border-gray-600 text-gray-100"].join(" "),children:[e.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[e.jsx("div",{className:"font-bold",children:t.label}),e.jsx("div",{className:"text-[10px] uppercase",children:l?"Completed":"In Progress"})]}),e.jsx("div",{className:"text-[11px] text-gray-200",children:t.description})]},t.id))}),e.jsxs("h2",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ“¦"})," Club Roster"]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2 text-[11px]",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-gray-400 mb-0.5",children:"Role"}),e.jsxs("select",{className:"w-full bg-gray-900 border border-gray-600 rounded px-1.5 py-1 text-xs text-gray-100",value:R,onChange:t=>ne(t.target.value),children:[e.jsx("option",{value:"ALL",children:"All"}),e.jsx("option",{value:"GK",children:"GK"}),e.jsx("option",{value:"DEF",children:"DEF"}),e.jsx("option",{value:"MID",children:"MID"}),e.jsx("option",{value:"FWD",children:"FWD"})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-gray-400 mb-0.5",children:"Min OVR"}),e.jsxs("select",{className:"w-full bg-gray-900 border border-gray-600 rounded px-1.5 py-1 text-xs text-gray-100",value:C,onChange:t=>pe(t.target.value),children:[e.jsx("option",{value:"ALL",children:"Any"}),e.jsx("option",{value:"60",children:"60+"}),e.jsx("option",{value:"65",children:"65+"}),e.jsx("option",{value:"70",children:"70+"}),e.jsx("option",{value:"75",children:"75+"}),e.jsx("option",{value:"80",children:"80+"})]})]})]}),e.jsxs("div",{className:"space-y-1",children:[q.map(t=>{const l=W(t.id),r=me.has(t.id),s=De.has(t.id);return e.jsxs("div",{className:["flex items-center gap-2 p-2 rounded border bg-gray-700",r?"border-emerald-400":s?"border-sky-400":"border-gray-600"].join(" "),children:[e.jsx(K,{playerId:t.id,size:"sm"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"text-xs font-bold text-white",children:t.name}),e.jsxs("div",{className:"text-[10px] text-yellow-300",children:["OVR ",t.ovr]})]}),e.jsxs("div",{className:"text-[10px] text-gray-300",children:[t.position," â€¢ ",l.country]}),Array.isArray(t.skills)&&t.skills.length>0&&e.jsx("div",{className:"text-[10px] text-emerald-300 truncate",children:t.skills.slice(0,2).join(" â€¢ ")})]}),e.jsx("div",{className:"text-[10px] text-gray-300",children:r?"XI":s?"Bench":"Club"})]},t.id)}),q.length===0&&e.jsx("div",{className:"text-gray-500 text-center py-4 text-xs",children:"No players match these filters."})]})]})]})};export{_e as SquadManagement};
